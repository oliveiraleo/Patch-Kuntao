From a7a1a00caec563fa68e809b9f15a8248e02f9ce0 Mon Sep 17 00:00:00 2001
From: Yaroslav Zviezda <acroreiser@gmail.com>
Date: Sun, 31 Mar 2024 21:12:33 +0300
Subject: [PATCH] [UL] Disable parsing netlink events from kernel

Change-Id: I69ad9b4781b8e15d6992a49f37614fbf88fb5be2
---
 src/android/net/ip/IpClientLinkObserver.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/android/net/ip/IpClientLinkObserver.java b/src/android/net/ip/IpClientLinkObserver.java
index 2068caa7..61aca4bc 100644
--- a/src/android/net/ip/IpClientLinkObserver.java
+++ b/src/android/net/ip/IpClientLinkObserver.java
@@ -189,8 +189,7 @@ public IpClientLinkObserver(Context context, Handler h, String iface, Callback c
         mDnsServerRepository = new DnsServerRepository(config.minRdnssLifetime);
         mAlarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
         mDependencies = deps;
-        mNetlinkEventParsingEnabled = deps.isFeatureNotChickenedOut(context,
-                IPCLIENT_PARSE_NETLINK_EVENTS_FORCE_DISABLE);
+        mNetlinkEventParsingEnabled = false;
         mNetlinkMonitor = new MyNetlinkMonitor(h, log, mTag);
         mHandler.post(() -> {
             if (!mNetlinkMonitor.start()) {
