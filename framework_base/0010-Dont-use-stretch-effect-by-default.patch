From 7e4e5c31f0ffe00d5d0ee9826adabc0ca42bdb3a Mon Sep 17 00:00:00 2001
From: Roman Stratiienko <r.stratiienko@gmail.com>
Date: Thu, 15 Feb 2024 19:04:39 +0300
Subject: [PATCH] Don't use stretch effect by default

---
 core/java/android/widget/EdgeEffect.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/core/java/android/widget/EdgeEffect.java b/core/java/android/widget/EdgeEffect.java
index c110ab9560303..0352da3a068f3 100644
--- a/core/java/android/widget/EdgeEffect.java
+++ b/core/java/android/widget/EdgeEffect.java
@@ -245,8 +245,10 @@ public EdgeEffect(@NonNull Context context, @Nullable AttributeSet attrs) {
                 attrs, com.android.internal.R.styleable.EdgeEffect);
         final int themeColor = a.getColor(
                 com.android.internal.R.styleable.EdgeEffect_colorEdgeEffect, 0xff666666);
-        mEdgeEffectType = Compatibility.isChangeEnabled(USE_STRETCH_EDGE_EFFECT_BY_DEFAULT)
-                ? TYPE_STRETCH : TYPE_GLOW;
+        // mEdgeEffectType = TYPE_GLOW
+        // Glow effect has an issue in settings app:
+        // After edge effect the buttons don't work until content scrolled, therefore use NONE
+        mEdgeEffectType = TYPE_NONE;
         a.recycle();
 
         mPaint.setAntiAlias(true);
